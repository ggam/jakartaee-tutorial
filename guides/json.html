<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.2">
<title>JSON Support</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement when using as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>JSON Support</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#json-processing">1. JSON Processing</a>
<ul class="sectlevel2">
<li><a href="#introduction-to-json">1.1. Introduction to JSON</a></li>
<li><a href="#json-processing-in-the-jakarta-ee-platform">1.2. JSON Processing in the Jakarta EE Platform</a></li>
<li><a href="#using-the-object-model-api">1.3. Using the Object Model API</a></li>
<li><a href="#using-the-streaming-api">1.4. Using the Streaming API</a></li>
<li><a href="#json-in-jakarta-ee-restful-web-services">1.5. JSON in Jakarta EE RESTful Web Services</a></li>
<li><a href="#the-jsonpmodel-example-application">1.6. The jsonpmodel Example Application</a></li>
<li><a href="#the-jsonpstreaming-example-application">1.7. The jsonpstreaming Example Application</a></li>
<li><a href="#further-information-about-the-java-api-for-json-processing">1.8. Further Information about the Jakarta JSON Processing</a></li>
</ul>
</li>
<li><a href="#json-binding">2. JSON Binding</a>
<ul class="sectlevel2">
<li><a href="#json-binding-in-the-jakarta-ee-platform">2.1. JSON Binding in the Jakarta EE Platform</a></li>
<li><a href="#overview-of-the-json-binding-api">2.2. Overview of the JSON Binding API</a></li>
<li><a href="#running-the-jsonbbasics-example-application">2.3. Running the jsonbbasics Example Application</a></li>
<li><a href="#further-information-about-the-java-api-for-json-binding">2.4. Further Information about the Jakarta JSON Binding</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="json-processing">1. JSON Processing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter describes Jakarta JSON Processing.
JSON is a data exchange format widely
used in web services and other connected applications. Jakarta JSON Processing provides an
API to parse, transform, and query JSON data using the object model or the
streaming model.</p>
</div>
<div class="sect2">
<h3 id="introduction-to-json">1.1. Introduction to JSON</h3>
<div class="paragraph">
<p>JSON is a text-based data exchange format derived from JavaScript that
is used in web services and other connected applications. The following
sections provide an introduction to JSON syntax, an overview of JSON
uses, and a description of the most common approaches to generate and
parse JSON.</p>
</div>
<div class="sect3">
<h4 id="json-syntax">1.1.1. JSON Syntax</h4>
<div class="paragraph">
<p>JSON defines only two data structures: objects and arrays. An object is
a set of name-value pairs, and an array is a list of values. JSON
defines seven value types: string, number, object, array, true, false,
and null.</p>
</div>
<div class="paragraph">
<p>The following example shows JSON data for a sample object that contains
name-value pairs. The value for the name <code>"phoneNumbers"</code> is an array
whose elements are two objects.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">{
   <span class="string"><span class="delimiter">&quot;</span><span class="content">firstName</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Duke</span><span class="delimiter">&quot;</span></span>,
   <span class="string"><span class="delimiter">&quot;</span><span class="content">lastName</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Java</span><span class="delimiter">&quot;</span></span>,
   <span class="string"><span class="delimiter">&quot;</span><span class="content">age</span><span class="delimiter">&quot;</span></span>: <span class="integer">18</span>,
   <span class="string"><span class="delimiter">&quot;</span><span class="content">streetAddress</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">100 Internet Dr</span><span class="delimiter">&quot;</span></span>,
   <span class="string"><span class="delimiter">&quot;</span><span class="content">city</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">JavaTown</span><span class="delimiter">&quot;</span></span>,
   <span class="string"><span class="delimiter">&quot;</span><span class="content">state</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">JA</span><span class="delimiter">&quot;</span></span>,
   <span class="string"><span class="delimiter">&quot;</span><span class="content">postalCode</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">12345</span><span class="delimiter">&quot;</span></span>,
   <span class="string"><span class="delimiter">&quot;</span><span class="content">phoneNumbers</span><span class="delimiter">&quot;</span></span>: [
      { <span class="string"><span class="delimiter">&quot;</span><span class="content">Mobile</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">111-111-1111</span><span class="delimiter">&quot;</span></span> },
      { <span class="string"><span class="delimiter">&quot;</span><span class="content">Home</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">222-222-2222</span><span class="delimiter">&quot;</span></span> }
   ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>JSON has the following syntax.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Objects are enclosed in braces (<code>{}</code>), their name-value pairs are
separated by a comma (<code>,</code>), and the name and value in a pair are
separated by a colon (<code>:</code>). Names in an object are strings, whereas
values may be of any of the seven value types, including another object
or an array.</p>
</li>
<li>
<p>Arrays are enclosed in brackets (<code>[]</code>), and their values are separated
by a comma (<code>,</code>). Each value in an array may be of a different type,
including another array or an object.</p>
</li>
<li>
<p>When objects and arrays contain other objects or arrays, the data has
a tree-like structure.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="uses-of-json">1.1.2. Uses of JSON</h4>
<div class="paragraph">
<p>JSON is often used as a common format to serialize and deserialize data
in applications that communicate with each other over the Internet.
These applications are created using different programming languages and
run in very different environments. JSON is suited to this scenario
because it is an open standard, it is easy to read and write, and it is
more compact than other representations.</p>
</div>
<div class="paragraph">
<p>RESTful web services use JSON extensively as the format for the data
inside requests and responses. The HTTP header used to indicate that the
content of a request or a response is JSON data is</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Content-<span class="predefined-type">Type</span>: application/json</code></pre>
</div>
</div>
<div class="paragraph">
<p>JSON representations are usually more compact than XML representations
because JSON does not have closing tags. Unlike XML, JSON does not have
a widely accepted schema for defining and validating the structure of
JSON data.</p>
</div>
</div>
<div class="sect3">
<h4 id="generating-and-parsing-json-data">1.1.3. Generating and Parsing JSON Data</h4>
<div class="paragraph">
<p>For generating and parsing JSON data, there are two programming models,
which are similar to those used for XML documents.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The object model creates a tree that represents the JSON data in
memory. The tree can then be navigated, analyzed, or modified. This
approach is the most flexible and allows for processing that requires
access to the complete contents of the tree. However, it is often slower
than the streaming model and requires more memory. The object model
generates JSON output by navigating the entire tree at once.</p>
</li>
<li>
<p>The streaming model uses an event-based parser that reads JSON data
one element at a time. The parser generates events and stops for
processing when an object or an array begins or ends, when it finds a
key, or when it finds a value. Each element can be processed or
discarded by the application code, and then the parser proceeds to the
next event. This approach is adequate for local processing, in which the
processing of an element does not require information from the rest of
the data. The streaming model generates JSON output to a given stream by
making a function call with one element at a time.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are many JSON generators and parsers available for different
programming languages and environments. <a href="#BABDFHHD">JSON
Processing in the Jakarta EE Platform</a> describes the functionality provided
by Jakarta JSON Processing.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="json-processing-in-the-jakarta-ee-platform">1.2. JSON Processing in the Jakarta EE Platform</h3>
<div class="paragraph">
<p>Jakarta EE includes support for the Jakarta JSON Processing spec, which provides an API to parse,
transform, and query JSON data using the object model or the streaming
model described in <a href="#BABJJACI">Generating and Parsing
JSON Data</a>. Jakarta JSON Processing contains the following
packages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>javax.json</code> package contains a reader interface, a writer
interface, a model builder interface for the object model, and utility
classes and Java types for JSON elements. This package also includes
several classes that implement other JSON-related standards: <a href="http://tools.ietf.org/html/rfc6901">JSON Pointer</a>,
<a href="http://tools.ietf.org/html/rfc6902">JSON Patch</a>, and <a href="http://tools.ietf.org/html/rfc7396">JSON Merge Patch</a>.
These standards are used to retrieve, transform or manipulate values
in an object model. <a href="#CHDJJCBE">Table 20-1</a> lists the main classes
and interfaces in this package.</p>
</li>
<li>
<p>The <code>javax.json.stream</code> package contains a parser interface and a
generator interface for the streaming model. <a href="#CHDIHCEG">Table 20-2</a>
lists the main classes and interfaces in this package.</p>
</li>
<li>
<p>The <code>javax.json.spi</code> package contains a Service Provider Interface (SPI)
to plug in implementations for JSON processing objects. This package
contains the <code>JsonProvider</code> class, which contains the methods that a service
provider implements.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="sthref118"></a><a id="CHDJJCBE"></a></p>
</div>
<div class="paragraph">
<p><strong>Table 20-1 Main Classes and Interfaces in javax.json</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Class or Interface</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Json</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains static methods to create instances of JSON parsers,
builders, and generators. This class also contains methods to create
parser, builder, and generator factory objects.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JsonReader</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reads JSON data from a stream and creates an object model
in memory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JsonObjectBuilder</code>, <code>JsonArrayBuilder</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create an object model or an array model in memory by adding elements
from application code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JsonWriter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Writes an object model from memory to a stream.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JsonValue</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents an element (such as an object, an array, or a
value) in JSON data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JsonStructure</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents an object or an array in JSON data. This
interface is a subtype of <code>JsonValue</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JsonObject</code>, <code>JsonArray</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represent an object or an array in JSON data. These two interfaces are
subtypes of <code>JsonStructure</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JsonPointer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains methods for operating on specific targets within JSON documents. The targets can be <code>JsonValue</code>,
<code>JsonObject</code>, or <code>JsonArray</code> objects.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JsonPatch</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An interface for supporting a sequence of operations to be applied to a target JSON resource. The
operations are defined within a JSON patch document.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JsonMergePatch</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An interface for supporting updates to target JSON resources. A JSON patch document is compared with
the target resource to determine the specific set of change operations to be applied.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JsonString</code>, <code>JsonNumber</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represent data types for elements in JSON data. These two interfaces
are subtypes of <code>JsonValue</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JsonException</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates that a problem occurred during JSON
processing.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="sthref119"></a><a id="CHDIHCEG"></a></p>
</div>
<div class="paragraph">
<p><strong>Table 20-2 Main Classes and Interfaces in javax.json.stream</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Class or Interface</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JsonParser</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents an event-based parser that can read JSON data
from a stream or from an object model.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JsonGenerator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Writes JSON data to a stream one element at a time.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="using-the-object-model-api">1.3. Using the Object Model API</h3>
<div class="paragraph">
<p>This section describes four use cases of the object model API: creating
an object model from JSON data, creating an object model from
application code, navigating an object model, and writing an object
model to a stream.</p>
</div>
<div class="sect3">
<h4 id="creating-an-object-model-from-json-data">1.3.1. Creating an Object Model from JSON Data</h4>
<div class="paragraph">
<p>The following code demonstrates how to create an object model from JSON
data in a text file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">java.io.FileReader</span>;
<span class="keyword">import</span> <span class="include">jakarta.json.Json</span>;
<span class="keyword">import</span> <span class="include">jakarta.json.JsonReader</span>;
<span class="keyword">import</span> <span class="include">jakarta.json.JsonStructure</span>;
...
JsonReader reader = Json.createReader(<span class="keyword">new</span> <span class="predefined-type">FileReader</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">jsondata.txt</span><span class="delimiter">&quot;</span></span>));
JsonStructure jsonst = reader.read();</code></pre>
</div>
</div>
<div class="paragraph">
<p>The object reference <code>jsonst</code> can be either of type <code>JsonObject</code> or of
type <code>JsonArray</code>, depending on the contents of the file. <code>JsonObject</code>
and <code>JsonArray</code> are subtypes of <code>JsonStructure</code>. This reference
represents the top of the tree and can be used to navigate the tree or
to write it to a stream as JSON data.</p>
</div>
</div>
<div class="sect3">
<h4 id="creating-an-object-model-from-application-code">1.3.2. Creating an Object Model from Application Code</h4>
<div class="paragraph">
<p>The following code demonstrates how to create an object model from
application code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">jakarta.json.Json</span>;
<span class="keyword">import</span> <span class="include">jakarta.json.JsonObject</span>;
...
JsonObject model = Json.createObjectBuilder()
   .add(<span class="string"><span class="delimiter">&quot;</span><span class="content">firstName</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Duke</span><span class="delimiter">&quot;</span></span>)
   .add(<span class="string"><span class="delimiter">&quot;</span><span class="content">lastName</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Java</span><span class="delimiter">&quot;</span></span>)
   .add(<span class="string"><span class="delimiter">&quot;</span><span class="content">age</span><span class="delimiter">&quot;</span></span>, <span class="integer">18</span>)
   .add(<span class="string"><span class="delimiter">&quot;</span><span class="content">streetAddress</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">100 Internet Dr</span><span class="delimiter">&quot;</span></span>)
   .add(<span class="string"><span class="delimiter">&quot;</span><span class="content">city</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">JavaTown</span><span class="delimiter">&quot;</span></span>)
   .add(<span class="string"><span class="delimiter">&quot;</span><span class="content">state</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">JA</span><span class="delimiter">&quot;</span></span>)
   .add(<span class="string"><span class="delimiter">&quot;</span><span class="content">postalCode</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">12345</span><span class="delimiter">&quot;</span></span>)
   .add(<span class="string"><span class="delimiter">&quot;</span><span class="content">phoneNumbers</span><span class="delimiter">&quot;</span></span>, Json.createArrayBuilder()
      .add(Json.createObjectBuilder()
         .add(<span class="string"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">mobile</span><span class="delimiter">&quot;</span></span>)
         .add(<span class="string"><span class="delimiter">&quot;</span><span class="content">number</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">111-111-1111</span><span class="delimiter">&quot;</span></span>))
      .add(Json.createObjectBuilder()
         .add(<span class="string"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">home</span><span class="delimiter">&quot;</span></span>)
         .add(<span class="string"><span class="delimiter">&quot;</span><span class="content">number</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">222-222-2222</span><span class="delimiter">&quot;</span></span>)))
   .build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>The object reference <code>model</code> represents the top of the tree, which is
created by nesting calls to the <code>add</code> methods and built by calling the
<code>build</code> method. The <code>JsonObjectBuilder</code> class contains the following
<code>add</code> methods:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">JsonObjectBuilder add(<span class="predefined-type">String</span> name, <span class="predefined-type">BigDecimal</span> value)
JsonObjectBuilder add(<span class="predefined-type">String</span> name, <span class="predefined-type">BigInteger</span> value)
JsonObjectBuilder add(<span class="predefined-type">String</span> name, <span class="type">boolean</span> value)
JsonObjectBuilder add(<span class="predefined-type">String</span> name, <span class="type">double</span> value)
JsonObjectBuilder add(<span class="predefined-type">String</span> name, <span class="type">int</span> value)
JsonObjectBuilder add(<span class="predefined-type">String</span> name, JsonArrayBuilder builder)
JsonObjectBuilder add(<span class="predefined-type">String</span> name, JsonObjectBuilder builder)
JsonObjectBuilder add(<span class="predefined-type">String</span> name, JsonValue value)
JsonObjectBuilder add(<span class="predefined-type">String</span> name, <span class="type">long</span> value)
JsonObjectBuilder add(<span class="predefined-type">String</span> name, <span class="predefined-type">String</span> value)
JsonObjectBuilder addNull(<span class="predefined-type">String</span> name)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>JsonArrayBuilder</code> class contains similar <code>add</code> methods that do not
have a name (key) parameter. You can nest arrays and objects by passing
a new <code>JsonArrayBuilder</code> object or a new <code>JsonObjectBuilder</code> object to
the corresponding <code>add</code> method, as shown in this example.</p>
</div>
<div class="paragraph">
<p>The resulting tree represents the JSON data from
<a href="#BABGHEHG">JSON Syntax</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="navigating-an-object-model">1.3.3. Navigating an Object Model</h4>
<div class="paragraph">
<p>The following code demonstrates a simple approach to navigating an
object model:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">jakarta.json.JsonValue</span>;
<span class="keyword">import</span> <span class="include">jakarta.json.JsonObject</span>;
<span class="keyword">import</span> <span class="include">jakarta.json.JsonArray</span>;
<span class="keyword">import</span> <span class="include">jakarta.json.JsonNumber</span>;
<span class="keyword">import</span> <span class="include">jakarta.json.JsonString</span>;
...
public <span class="directive">static</span> <span class="type">void</span> navigateTree(JsonValue tree, <span class="predefined-type">String</span> key) {
   <span class="keyword">if</span> (key != <span class="predefined-constant">null</span>)
      <span class="predefined-type">System</span>.out.print(<span class="string"><span class="delimiter">&quot;</span><span class="content">Key </span><span class="delimiter">&quot;</span></span> + key + <span class="string"><span class="delimiter">&quot;</span><span class="content">: </span><span class="delimiter">&quot;</span></span>);
   <span class="keyword">switch</span>(tree.getValueType()) {
      <span class="keyword">case</span> OBJECT:
         <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">OBJECT</span><span class="delimiter">&quot;</span></span>);
         JsonObject object = (JsonObject) tree;
         <span class="keyword">for</span> (<span class="predefined-type">String</span> name : object.keySet())
            navigateTree(object.get(name), name);
         <span class="keyword">break</span>;
      <span class="keyword">case</span> ARRAY:
         <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">ARRAY</span><span class="delimiter">&quot;</span></span>);
         JsonArray array = (JsonArray) tree;
         <span class="keyword">for</span> (JsonValue val : array)
            navigateTree(val, <span class="predefined-constant">null</span>);
         <span class="keyword">break</span>;
      <span class="keyword">case</span> STRING:
         JsonString st = (JsonString) tree;
         <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">STRING </span><span class="delimiter">&quot;</span></span> + st.getString());
         <span class="keyword">break</span>;
      <span class="keyword">case</span> NUMBER:
         JsonNumber num = (JsonNumber) tree;
         <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">NUMBER </span><span class="delimiter">&quot;</span></span> + num.toString());
         <span class="keyword">break</span>;
      <span class="keyword">case</span> TRUE:
      <span class="keyword">case</span> FALSE:
      <span class="keyword">case</span> NULL:
         <span class="predefined-type">System</span>.out.println(tree.getValueType().toString());
         <span class="keyword">break</span>;
   }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The method <code>navigateTree</code> can be used with the models built in
<a href="#BABBHEBA">Creating an Object Model from JSON Data</a> and
<a href="#BABIGIAF">Creating an Object Model from Application Code</a> as
follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">navigateTree(model, <span class="predefined-constant">null</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>navigateTree</code> method takes two arguments: a JSON element and a key.
The key is used only to help print the key-value pairs inside objects.
Elements in a tree are represented by the <code>JsonValue</code> type. If the
element is an object or an array, a new call to this method is made for
every element contained in the object or array. If the element is a
value, it is printed to the standard output.</p>
</div>
<div class="paragraph">
<p>The <code>JsonValue.getValueType</code> method identifies the element as an object,
an array, or a value. For objects, the <code>JsonObject.keySet</code> method
returns a set of strings that contains the keys in the object, and the
<code>JsonObject.get(String name)</code> method returns the value of the element
whose key is <code>name</code>. For arrays, <code>JsonArray</code> implements the
<code>List&lt;JsonValue&gt;</code> interface. You can use enhanced <code>for</code> loops with the
<code>Set&lt;String&gt;</code> instance returned by <code>JsonObject.keySet</code> and with
instances of <code>JsonArray</code>, as shown in this example.</p>
</div>
<div class="paragraph">
<p>The <code>navigateTree</code> method for the model built in <a href="#BABIGIAF">Creating
an Object Model from Application Code</a> produces the following output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">OBJECT
<span class="predefined-type">Key</span> firstName: STRING Duke
<span class="predefined-type">Key</span> lastName: STRING Java
<span class="predefined-type">Key</span> age: NUMBER <span class="integer">18</span>
<span class="predefined-type">Key</span> streetAddress: STRING <span class="integer">100</span> Internet Dr
<span class="predefined-type">Key</span> city: STRING JavaTown
<span class="predefined-type">Key</span> state: STRING JA
<span class="predefined-type">Key</span> postalCode: STRING <span class="integer">12345</span>
<span class="predefined-type">Key</span> phoneNumbers: ARRAY
OBJECT
<span class="predefined-type">Key</span> type: STRING mobile
<span class="predefined-type">Key</span> number: STRING <span class="integer">111</span>-<span class="integer">111</span>-<span class="integer">1111</span>
OBJECT
<span class="predefined-type">Key</span> type: STRING home
<span class="predefined-type">Key</span> number: STRING <span class="integer">222</span>-<span class="integer">222</span>-<span class="integer">2222</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="writing-an-object-model-to-a-stream">1.3.4. Writing an Object Model to a Stream</h4>
<div class="paragraph">
<p>The object models created in <a href="#BABBHEBA">Creating an Object Model
from JSON Data</a> and <a href="#BABIGIAF">Creating an Object Model from
Application Code</a> can be written to a stream using the <code>JsonWriter</code>
class as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">java.io.StringWriter</span>;
<span class="keyword">import</span> <span class="include">jakarta.json.JsonWriter</span>;
...
StringWriter stWriter = <span class="keyword">new</span> <span class="predefined-type">StringWriter</span>();
JsonWriter jsonWriter = Json.createWriter(stWriter);
jsonWriter.writeObject(model);
jsonWriter.close();

<span class="predefined-type">String</span> jsonData = stWriter.toString();
<span class="predefined-type">System</span>.out.println(jsonData);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>Json.createWriter</code> method takes an output stream as a parameter.
The <code>JsonWriter.writeObject</code> method writes the object to the stream. The
<code>JsonWriter.close</code> method closes the underlying output stream.</p>
</div>
<div class="paragraph">
<p>The following example uses <code>try</code>-with-resources to close the JSON writer
automatically:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">StringWriter</span> stWriter = <span class="keyword">new</span> <span class="predefined-type">StringWriter</span>();
<span class="keyword">try</span> (JsonWriter jsonWriter = Json.createWriter(stWriter)) {
   jsonWriter.writeObject(model);
}

<span class="predefined-type">String</span> jsonData = stWriter.toString();
<span class="predefined-type">System</span>.out.println(jsonData);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-the-streaming-api">1.4. Using the Streaming API</h3>
<div class="paragraph">
<p>This section describes two use cases of the streaming API.</p>
</div>
<div class="sect3">
<h4 id="reading-json-data-using-a-parser">1.4.1. Reading JSON Data Using a Parser</h4>
<div class="paragraph">
<p>The streaming API is the most efficient approach for parsing JSON text.
The following code demonstrates how to create a <code>JsonParser</code> object and
how to parse JSON data using events:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">jakarta.json.Json</span>;
<span class="keyword">import</span> <span class="include">jakarta.json.stream.JsonParser</span>;
...
JsonParser parser = Json.createParser(<span class="keyword">new</span> <span class="predefined-type">StringReader</span>(jsonData));
<span class="keyword">while</span> (parser.hasNext()) {
   JsonParser.Event event = parser.next();
   <span class="keyword">switch</span>(event) {
      <span class="keyword">case</span> START_ARRAY:
      <span class="keyword">case</span> END_ARRAY:
      <span class="keyword">case</span> START_OBJECT:
      <span class="keyword">case</span> END_OBJECT:
      <span class="keyword">case</span> VALUE_FALSE:
      <span class="keyword">case</span> VALUE_NULL:
      <span class="keyword">case</span> VALUE_TRUE:
         <span class="predefined-type">System</span>.out.println(event.toString());
         <span class="keyword">break</span>;
      <span class="keyword">case</span> KEY_NAME:
         <span class="predefined-type">System</span>.out.print(event.toString() + <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span> +
                          parser.getString() + <span class="string"><span class="delimiter">&quot;</span><span class="content"> - </span><span class="delimiter">&quot;</span></span>);
         <span class="keyword">break</span>;
      <span class="keyword">case</span> VALUE_STRING:
      <span class="keyword">case</span> VALUE_NUMBER:
         <span class="predefined-type">System</span>.out.println(event.toString() + <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span> +
                            parser.getString());
         <span class="keyword">break</span>;
   }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This example consists of three steps.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Obtain a parser instance by calling the <code>Json.createParser</code> static
method.</p>
</li>
<li>
<p>Iterate over the parser events with the <code>JsonParser.hasNext</code> and the
<code>JsonParser.next</code> methods.</p>
</li>
<li>
<p>Perform local processing for each element.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The example shows the ten possible event types from the parser. The
parser&#8217;s <code>next</code> method advances it to the next event. For the event
types <code>KEY_NAME</code>, <code>VALUE_STRING</code>, and <code>VALUE_NUMBER</code>, you can obtain the
content of the element by calling the method <code>JsonParser.getString</code>. For
<code>VALUE_NUMBER</code> events, you can also use the following methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>JsonParser.isIntegralNumber</code></p>
</li>
<li>
<p><code>JsonParser.getInt</code></p>
</li>
<li>
<p><code>JsonParser.getLong</code></p>
</li>
<li>
<p><code>JsonParser.getBigDecimal</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the Jakarta EE API reference for the <code>javax.json.stream.JsonParser</code>
interface for more information.</p>
</div>
<div class="paragraph">
<p>The output of this example is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">START_OBJECT
KEY_NAME firstName - VALUE_STRING Duke
KEY_NAME lastName - VALUE_STRING Java
KEY_NAME age - VALUE_NUMBER <span class="integer">18</span>
KEY_NAME streetAddress - VALUE_STRING <span class="integer">100</span> Internet Dr
KEY_NAME city - VALUE_STRING JavaTown
KEY_NAME state - VALUE_STRING JA
KEY_NAME postalCode - VALUE_STRING <span class="integer">12345</span>
KEY_NAME phoneNumbers - START_ARRAY
START_OBJECT
KEY_NAME type - VALUE_STRING mobile
KEY_NAME number - VALUE_STRING <span class="integer">111</span>-<span class="integer">111</span>-<span class="integer">1111</span>
END_OBJECT
START_OBJECT
KEY_NAME type - VALUE_STRING home
KEY_NAME number - VALUE_STRING <span class="integer">222</span>-<span class="integer">222</span>-<span class="integer">2222</span>
END_OBJECT
END_ARRAY
END_OBJECT</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="writing-json-data-using-a-generator">1.4.2. Writing JSON Data Using a Generator</h4>
<div class="paragraph">
<p>The following code demonstrates how to write JSON data to a file using
the streaming API:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">FileWriter</span> writer = <span class="keyword">new</span> <span class="predefined-type">FileWriter</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">test.txt</span><span class="delimiter">&quot;</span></span>);
JsonGenerator gen = Json.createGenerator(writer);
gen.writeStartObject()
   .write(<span class="string"><span class="delimiter">&quot;</span><span class="content">firstName</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Duke</span><span class="delimiter">&quot;</span></span>)
   .write(<span class="string"><span class="delimiter">&quot;</span><span class="content">lastName</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Java</span><span class="delimiter">&quot;</span></span>)
   .write(<span class="string"><span class="delimiter">&quot;</span><span class="content">age</span><span class="delimiter">&quot;</span></span>, <span class="integer">18</span>)
   .write(<span class="string"><span class="delimiter">&quot;</span><span class="content">streetAddress</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">100 Internet Dr</span><span class="delimiter">&quot;</span></span>)
   .write(<span class="string"><span class="delimiter">&quot;</span><span class="content">city</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">JavaTown</span><span class="delimiter">&quot;</span></span>)
   .write(<span class="string"><span class="delimiter">&quot;</span><span class="content">state</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">JA</span><span class="delimiter">&quot;</span></span>)
   .write(<span class="string"><span class="delimiter">&quot;</span><span class="content">postalCode</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">12345</span><span class="delimiter">&quot;</span></span>)
   .writeStartArray(<span class="string"><span class="delimiter">&quot;</span><span class="content">phoneNumbers</span><span class="delimiter">&quot;</span></span>)
      .writeStartObject()
         .write(<span class="string"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">mobile</span><span class="delimiter">&quot;</span></span>)
         .write(<span class="string"><span class="delimiter">&quot;</span><span class="content">number</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">111-111-1111</span><span class="delimiter">&quot;</span></span>)
      .writeEnd()
      .writeStartObject()
         .write(<span class="string"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">home</span><span class="delimiter">&quot;</span></span>)
         .write(<span class="string"><span class="delimiter">&quot;</span><span class="content">number</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">222-222-2222</span><span class="delimiter">&quot;</span></span>)
      .writeEnd()
   .writeEnd()
.writeEnd();
gen.close();</code></pre>
</div>
</div>
<div class="paragraph">
<p>This example obtains a JSON generator by calling the
<code>Json.createGenerator</code> static method, which takes a writer or an output
stream as a parameter. The example writes JSON data to the <code>test.txt</code>
file by nesting calls to the <code>write</code>, <code>writeStartArray</code>,
<code>writeStartObject</code>, and <code>writeEnd</code> methods. The <code>JsonGenerator.close</code>
method closes the underlying writer or output stream.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="json-in-jakarta-ee-restful-web-services">1.5. JSON in Jakarta EE RESTful Web Services</h3>
<div class="paragraph">
<p>This section explains how the Jakarta JSON Processing is related to
other Jakarta EE packages that provide JSON support for RESTful web
services. See <a href="#GIEPU">Chapter 32, "Building RESTful Web
Services with Jakarta RESTful Web Services,"</a> for more information on RESTful web services.</p>
</div>
<div class="paragraph">
<p>Jersey, the Jakarta RESTful Web Services implementation included in
GlassFish Server, provides support for binding JSON data from RESTful
resource methods to Java objects using Jakarta XML Binding, as described in
<a href="#GKKNJ">Using Jakarta RESTful Web Services with JAXB</a> in
<a href="#GJJXE">Chapter 34, "Jakarta RESTful Web Services: Advanced Topics and
an Example"</a>. However, JSON support is not part of Jakarta RESTful Web Services or
Jakarta XML Binding, so that procedure may not work for Jakarta EE
implementations other than GlassFish Server.</p>
</div>
<div class="paragraph">
<p>You can still use the Jakarta JSON Processing with Jakarta RESTful Web Services resource
methods. For more information, see the sample code for JSON Processing
included with the Jakarta EE 8 SDK.</p>
</div>
</div>
<div class="sect2">
<h3 id="the-jsonpmodel-example-application">1.6. The jsonpmodel Example Application</h3>
<div class="paragraph">
<p>This section describes how to build and run the <code>jsonpmodel</code> example
application. This example is a web application that demonstrates how to
create an object model from form data, how to parse JSON data, and how
write JSON data using the object model API.</p>
</div>
<div class="paragraph">
<p>The <code>jsonpmodel</code> example application is in the
tut-install`/examples/web/jsonp/jsonpmodel` directory.</p>
</div>
<div class="sect3">
<h4 id="components-of-the-jsonpmodel-example-application">1.6.1. Components of the jsonpmodel Example Application</h4>
<div class="paragraph">
<p>The <code>jsonpmodel</code> example application contains the following files.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Three Jakarta Server Faces pages.</p>
<div class="ulist">
<ul>
<li>
<p>The <code>index.xhtml</code> page contains a form to collect information.</p>
</li>
<li>
<p>The <code>modelcreated.xhtml</code> page contains a text area that displays JSON
data.</p>
</li>
<li>
<p>The <code>parsejson.xhtml</code> page contains a table that shows the elements
of the object model.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The <code>ObjectModelBean.java</code> managed bean, which is a session-scoped
managed bean that stores the data from the form and directs the
navigation between the Facelets pages. This file also contains code that
uses the JSON object model API.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The code used in <code>ObjectModelBean.java</code> to create an object model from
the data in the form is similar to the example in
<a href="#BABIGIAF">Creating an Object Model from Application
Code</a>. The code to write JSON output from the model is similar to the
example in <a href="#BABHEJFF">Writing an Object Model to a
Stream</a>. The code to navigate the object model tree is similar to the
example in <a href="#BABJHEHG">Navigating an Object Model</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="running-the-jsonpmodel-example-application">1.6.2. Running the jsonpmodel Example Application</h4>
<div class="paragraph">
<p>This section describes how to run the <code>jsonpmodel</code> example application
using NetBeans IDE and from the command line.</p>
</div>
<div class="sect4">
<h5 id="to-run-the-jsonpmodel-example-application-using-netbeans-ide">To Run the jsonpmodel Example Application Using NetBeans IDE</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Make sure that GlassFish Server has been started (see
<a href="#BNADI">Starting and Stopping GlassFish
Server</a>).</p>
</li>
<li>
<p>From the File menu, choose Open Project.</p>
</li>
<li>
<p>In the Open Project dialog box, navigate to:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">tut-install/examples/web/jsonp</code></pre>
</div>
</div>
</li>
<li>
<p>Select the <code>jsonpmodel</code> folder.</p>
</li>
<li>
<p>Click Open Project.</p>
</li>
<li>
<p>In the Projects tab, right-click the <code>jsonpmodel</code> project and select
Run.</p>
<div class="paragraph">
<p>This command builds and packages the application into a WAR file
(<code>jsonpmodel.war</code>) located in the <code>target</code> directory, deploys it to the
server, and opens a web browser window with the following URL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">http:<span class="comment">//localhost:8080/jsonpmodel/</span></code></pre>
</div>
</div>
</li>
<li>
<p>Edit the data on the page and click Create a JSON Object to submit
the form. The following page shows a JSON object that contains the data
from the form.</p>
</li>
<li>
<p>Click Parse JSON. The following page contains a table that lists the
nodes of the object model tree.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="to-run-the-jsonpmodel-example-application-using-maven">To Run the jsonpmodel Example Application Using Maven</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Make sure that GlassFish Server has been started (see
<a href="#BNADI">Starting and Stopping GlassFish
Server</a>).</p>
</li>
<li>
<p>In a terminal window, go to:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">tut-install/examples/web/jsonp/jsonpmodel</code></pre>
</div>
</div>
</li>
<li>
<p>Enter the following command to deploy the application:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">mvn install</code></pre>
</div>
</div>
</li>
<li>
<p>Open a web browser window and enter the following address:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">http:<span class="comment">//localhost:8080/jsonpmodel/</span></code></pre>
</div>
</div>
</li>
<li>
<p>Edit the data on the page and click Create a JSON Object to submit
the form. The following page shows a JSON object that contains the data
from the form.</p>
</li>
<li>
<p>Click Parse JSON. The following page contains a table that lists the
nodes of the object model tree.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="the-jsonpstreaming-example-application">1.7. The jsonpstreaming Example Application</h3>
<div class="paragraph">
<p>This section describes how to build and run the <code>jsonpstreaming</code> example
application. This example is a web application that demonstrates how to
create JSON data from form data, how to parse JSON data, and how to
write JSON output using the streaming API.</p>
</div>
<div class="paragraph">
<p>The <code>jsonpstreaming</code> example application is in the
tut-install`/examples/web/jsonp/jsonpstreaming` directory.</p>
</div>
<div class="sect3">
<h4 id="components-of-the-jsonpstreaming-example-application">1.7.1. Components of the jsonpstreaming Example Application</h4>
<div class="paragraph">
<p>The <code>jsonpstreaming</code> example application contains the following files.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Three JavaServer Faces pages.</p>
<div class="ulist">
<ul>
<li>
<p>The <code>index.xhtml</code> page contains a form to collect information.</p>
</li>
<li>
<p>The <code>filewritten.xhtml</code> page contains a text area that displays JSON
data.</p>
</li>
<li>
<p>The <code>parsed.xhtml</code> page contains a table that lists the events from
the parser.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The <code>StreamingBean.java</code> managed bean, a session-scoped managed bean
that stores the data from the form and directs the navigation between
the Facelets pages. This file also contains code that uses the JSON
streaming API.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The code used in <code>StreamingBean.java</code> to write JSON data to a file is
similar to the example in <a href="#BABGJEEF">Writing JSON Data
Using a Generator</a>. The code to parse JSON data from a file is similar
to the example in <a href="#BABGCHIG">Reading JSON Data Using a
Parser</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="running-the-jsonpstreaming-example-application">1.7.2. Running the jsonpstreaming Example Application</h4>
<div class="paragraph">
<p>This section describes how to run the <code>jsonpstreaming</code> example
application using NetBeans IDE and from the command line.</p>
</div>
<div class="sect4">
<h5 id="to-run-the-jsonpstreaming-example-application-using-netbeans-ide">To Run the jsonpstreaming Example Application Using NetBeans IDE</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Make sure that GlassFish Server has been started (see
<a href="#BNADI">Starting and Stopping GlassFish
Server</a>).</p>
</li>
<li>
<p>From the File menu, choose Open Project.</p>
</li>
<li>
<p>In the Open Project dialog box, navigate to:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">tut-install/examples/web/jsonp</code></pre>
</div>
</div>
</li>
<li>
<p>Select the <code>jsonpstreaming</code> folder.</p>
</li>
<li>
<p>Click Open Project.</p>
</li>
<li>
<p>In the Projects tab, right-click the <code>jsonpstreaming</code> project and
select Run.</p>
<div class="paragraph">
<p>This command builds and packages the application into a WAR file
(<code>jsonpstreaming.war</code>) located in the <code>target</code> directory, deploys it to
the server, and opens a web browser window with the following URL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">http:<span class="comment">//localhost:8080/jsonpstreaming/</span></code></pre>
</div>
</div>
</li>
<li>
<p>Edit the data on the page and click Write a JSON Object to a File to
submit the form and write a JSON object to a text file. The following
page shows the contents of the text file.</p>
</li>
<li>
<p>Click Parse JSON from File. The following page contains a table that
lists the parser events for the JSON data in the text file.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="to-run-the-jsonpstreaming-example-application-using-maven">To Run the jsonpstreaming Example Application Using Maven</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Make sure that GlassFish Server has been started (see
<a href="#BNADI">Starting and Stopping GlassFish
Server</a>).</p>
</li>
<li>
<p>In a terminal window, go to:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">tut-install/examples/web/jsonp/jsonpstreaming/</code></pre>
</div>
</div>
</li>
<li>
<p>Enter the following command to deploy the application:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">mvn install</code></pre>
</div>
</div>
</li>
<li>
<p>Open a web browser window and enter the following URL:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">http:<span class="comment">//localhost:8080/jsonpstreaming/</span></code></pre>
</div>
</div>
</li>
<li>
<p>Edit the data on the page and click Write a JSON Object to a File to
submit the form and write a JSON object to a text file. The following
page shows the contents of the text file.</p>
</li>
<li>
<p>Click Parse JSON from File. The following page contains a table that
lists the parser events for the JSON data in the text file.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="further-information-about-the-java-api-for-json-processing">1.8. Further Information about the Jakarta JSON Processing</h3>
<div class="paragraph">
<p>For more information on JSON processing in Jakarta EE, see the Jakarta JSON Processing specification:</p>
</div>
<div class="paragraph">
<p><code><a href="https://jakarta.ee/specifications/jsonp/1.1" class="bare">https://jakarta.ee/specifications/jsonp/1.1</a></code></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="json-binding">2. JSON Binding</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter describes the Jakarta JSON Binding. JSON is a data exchange format widely used
in web services and other connected applications. For a brief overview of JSON, see
<a href="#introduction-to-json">Introduction to JSON</a>.</p>
</div>
<div class="paragraph">
<p>The <a href="https://jakarta.ee/specifications/json-binding/">Jakarta JSON Binding</a> specification provides a standard
binding layer (metadata and runtime) between Java classes and JSON documents. One Jakarta JSON Binding reference
implementation is Yasson, which is developed through Eclipse.org and is included as part of GlassFish Server.
You can learn more about Yasson at <a href="https://projects.eclipse.org/projects/ee4j.yasson" class="bare">https://projects.eclipse.org/projects/ee4j.yasson</a>.</p>
</div>
<div class="sect2">
<h3 id="json-binding-in-the-jakarta-ee-platform">2.1. JSON Binding in the Jakarta EE Platform</h3>
<div class="paragraph">
<p>Jakarta EE includes support for the Jakarta JSON Binding spec, which provides an API that can serialize
Java objects to JSON documents and deserialize JSON documents to Java objects.
Jakarta JSON Binding contains the following packages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>javax.json.bind</code> package contains the binding interface, the builder interface, and
a configuration class. <a href="#main-classes-and-interfaces-in-bind">Table 21-1</a> lists the main classes
and interfaces in this package.</p>
</li>
<li>
<p>The <code>javax.json.bind.adapter</code> package contains the <code>JsonbAdapter</code> interface, which provides
methods for binding custom Java types by converting them to known types.</p>
</li>
<li>
<p>The <code>javax.json.bind.annotation</code> package defines annotations that can be used to customize default
binding behavior. Annotations can be used for field, JavaBean property, type, or package
elements.</p>
</li>
<li>
<p>The <code>javax.json.bind.config</code> package interfaces and classes for customizing default binding behavior.
<a href="#main-classes-and-interfaces-in-config">Table 21-2</a> lists the main classes
and interfaces in this package.</p>
</li>
<li>
<p>The <code>javax.json.bind.serializer</code> package contains interfaces that are used to create serialization and
deserialization routines for custom types that cannot be easily mapped using the <code>JsonbAdapter</code> methods.
<a href="#main-classes-and-interfaces-in-serializer">Table 21-3</a> lists the main interfaces in this package.</p>
</li>
<li>
<p>The <code>javax.json.bind.spi</code> package contains a Service Provider Interface (SPI) for  creating
JSON Binding implementations. This package contains the <code>JsonbProvider</code> class, which
contains the methods that a service provider implements.</p>
</li>
</ul>
</div>
<div id="main-classes-and-interfaces-in-bind" class="paragraph">
<p><strong>Table 21-1 Main Classes and Interfaces in javax.json.bind</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Class or Interface</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Jsonb</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains the JSON binding methods for serializing Java objects to JSON and deserailizing
JSON to Java objects.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JsonBuilder</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used by clients to create <code>Jsonb</code> instances.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JsonbConfig</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to set configuration properties on <code>Jsonb</code> instances. Properties include
binding strategies and properties for configuring custom serializers and deserializers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JsonbException</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates that a problem occurred during JSON binding.</p></td>
</tr>
</tbody>
</table>
<div id="main-classes-and-interfaces-in-config" class="paragraph">
<p><strong>Table 21-2 Main Classes and Interfaces in javax.json.bind.config</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Class or Interface</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PropertyNamingStrategy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to set how property names are translated.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PropertyVisibilityStrategy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to set whether fields and methods should be considered properties
overriding the default scope and field access behavior.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BinaryDataStrategy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to set binary encoding.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PropertyOrderStrategy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to set how properties are ordered during serialization.</p></td>
</tr>
</tbody>
</table>
<div id="main-classes-and-interfaces-in-serializer" class="paragraph">
<p><strong>Table 21-3 Main Classes and Interfaces in javax.json.bind.serializer</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Class or Interface</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JsonbDeserializer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to create a deserialization routine for a custom type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JsonbSerializer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to create a serialization routine for a custom type.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="overview-of-the-json-binding-api">2.2. Overview of the JSON Binding API</h3>
<div class="paragraph">
<p>This section provides basic instructions for using the Jakarta JSON Binding client API. The instructions provide a
basis for understanding the <a href="jsonb003.html">jsonbbasics Example Application</a>.
Refer to the <a href="http://json-b.net/index.html">Jakarta JSON Binding</a> project page for API documentation and a more detailed
User Guide.</p>
</div>
<div class="sect3">
<h4 id="creating-a-jasonb-instance">2.2.1. Creating a jasonb Instance</h4>
<div class="paragraph">
<p>A <code>jsonb</code> instance provides access to methods for binding objects to JSON.
A single <code>jsonb</code> instance is required for most applications. A <code>jsonb</code> instance
is created using the <code>JsonbBuilder</code> interface, which is a client&#8217;s entry point
to the JSON Binding API. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Jsonb jsonb = JsonbBuilder.create();</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="using-the-default-mapping">2.2.2. Using the Default Mapping</h4>
<div class="paragraph">
<p>Jakarta JSON Binding provides default mappings for serializing and deserializing basic Java and Java SE types as well
Java date and time classes. To use the default mappings and mapping behavior, create a josnb instance
and use the <code>toJson</code> method to serialize to JSON and the <code>fromJson</code> method to deserialize back to an
object. The following example binds a simple <code>Person</code> object that contains a single <code>name</code> field.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Jsonb jsonb = JsonbBuilder.create();

Person person = <span class="keyword">new</span> Person();
person.name = <span class="string"><span class="delimiter">&quot;</span><span class="content">Fred</span><span class="delimiter">&quot;</span></span>;

Jsonb jsonb = JsonbBuilder.create();

<span class="comment">// serialize to JSON</span>
<span class="predefined-type">String</span> result = jsonb.toJson(person);

<span class="comment">// deserialize from JSON</span>
person = jsonb.fromJson(<span class="string"><span class="delimiter">&quot;</span><span class="content">{name:</span><span class="char">\&quot;</span><span class="content">joe</span><span class="delimiter">&quot;</span></span><span class="error">\</span><span class="string"><span class="delimiter">&quot;</span><span class="content">}</span><span class="delimiter">&quot;</span></span>, Person.class);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="using-customizations">2.2.3. Using Customizations</h4>
<div class="paragraph">
<p>Jakarta JSON Binding supports many ways to customize the default mapping behavior. For runtime
customizations, a <code>JsonbConfig</code> configuration object is used when creating the <code>jsonbinstance</code>. The <code>JsonbConfig</code>
class supports many configuration options and also includes advanced options for binding custom types. For
advanced options, see the <code>JsonbAdapter</code> interface and the <code>JsonbSerializer</code> and <code>JsonbDeserializer</code> interfaces.</p>
</div>
<div class="paragraph">
<p>The following example creates a configuration object that sets the <code>FORMATTING</code> property to specify
whether or not the serialized JSON data is formatted with linefeeds and indentation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">JsonbConfig config = <span class="keyword">new</span> JsonbConfig()
    .withFormatting(<span class="predefined-constant">true</span>);

Jsonb jsonb = JsonbBuilder.create(config);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="using-annotations">2.2.4. Using Annotations</h4>
<div class="paragraph">
<p>Jakarta JSON Binding includes many annotations that can be used at compile time to customize the default mapping behavior.
The following example uses the <code>@JsonbProperty</code> annotation to change the <code>name</code> field to <code>person-name</code> when
the object is serialized to JSON.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Person</span> {
    <span class="annotation">@JsonbProperty</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">person-name</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="predefined-type">String</span> name;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The resulting JSON document is written as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">{
    <span class="string"><span class="delimiter">&quot;</span><span class="content">person-name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Fred</span><span class="delimiter">&quot;</span></span>,
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="running-the-jsonbbasics-example-application">2.3. Running the jsonbbasics Example Application</h3>
<div class="paragraph">
<p>This section describes how to build and run the <code>jsonbbasics</code> example
application. This example is a web application that demonstrates how to
serialize an object to JSON and how to deserialize JSON to an
object.</p>
</div>
<div class="paragraph">
<p>The <code>jsonbbasics</code> example application is in the
<code><em>tut-install</em>/examples/web/jsonb/jsonbbasics</code> directory.</p>
</div>
<div class="sect3">
<h4 id="components-of-the-jsonbbasics-example-application">2.3.1. Components of the jsonbbasics Example Application</h4>
<div class="paragraph">
<p>The <code>jsonbbasics</code> example application contains the following files.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Two JavaServer Faces pages.</p>
<div class="ulist">
<ul>
<li>
<p>The <code>index.xhtml</code> page contains a form to collect data that is used to create a <code>Person</code> object.</p>
</li>
<li>
<p>The <code>jsongenerated.xhtml</code> page contains a text area that displays the data in JSON format.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The <code>jsonbBean.java</code> managed bean, which is a session-scoped managed bean that stores the data from the form and directs the navigation between the Facelets pages. This file contains code that uses the JSON Binding API.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="running-the-jsonbbasics-example-application-2">2.3.2. Running the jsonbbasics Example Application</h4>
<div class="paragraph">
<p>This section describes how to run the <code>jsonbbasics</code> example application
from the command line using Maven.</p>
</div>
<div class="paragraph">
<p>To run the jsonbbasics example application using Maven:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Make sure that GlassFish Server has been started (see <a href="#BNADI">Starting and Stopping GlassFish Server</a>).</p>
</li>
<li>
<p>In a terminal window, go to:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">tut-install/examples/web/jsonb/jsonbbasics</code></pre>
</div>
</div>
</li>
<li>
<p>Enter the following command to deploy the application:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">mvn install</code></pre>
</div>
</div>
</li>
<li>
<p>Open a web browser window and enter the following address:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">http:<span class="comment">//localhost:8080/jsonbbasics/</span></code></pre>
</div>
</div>
</li>
<li>
<p>Enter data on form and click Serialize to JSON to submit the form. The following page shows the JSON format of the object data.</p>
</li>
<li>
<p>Click Deserialize JSON. The index page displays and contains the fields populated from the object data.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="further-information-about-the-java-api-for-json-binding">2.4. Further Information about the Jakarta JSON Binding</h3>
<div class="paragraph">
<p>For more information on Jakarta JSON Binding, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Jakarta JSON Binding spec: <a href="https://jakarta.ee/specifications/json-binding/" class="bare">https://jakarta.ee/specifications/json-binding/</a></p>
</li>
<li>
<p>Specification project: <a href="http://github.com/eclipse-ee4j/jsonb-api" class="bare">http://github.com/eclipse-ee4j/jsonb-api</a></p>
</li>
<li>
<p>Yasson (Implementation): <a href="https://projects.eclipse.org/projects/ee4j.yasson" class="bare">https://projects.eclipse.org/projects/ee4j.yasson</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-01-08 17:03:44 UTC
</div>
</div>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid currentColor;opacity:.35;padding:0 .5em 0 0}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</body>
</html>