<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.2">
<title>Transactions</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement when using as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Transactions</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_transactions">1. Transactions</a>
<ul class="sectlevel2">
<li><a href="#_overview_of_transactions">1.1. Overview of Transactions</a></li>
<li><a href="#_transactions_in_jakarta_ee_applications">1.2. Transactions in Jakarta EE Applications</a></li>
<li><a href="#_what_is_a_transaction">1.3. What Is a Transaction?</a></li>
<li><a href="#_container_managed_transactions">1.4. Container-Managed Transactions</a></li>
<li><a href="#_bean_managed_transactions">1.5. Bean-Managed Transactions</a></li>
<li><a href="#_transaction_timeouts">1.6. Transaction Timeouts</a></li>
<li><a href="#_updating_multiple_databases">1.7. Updating Multiple Databases</a></li>
<li><a href="#_transactions_in_web_components">1.8. Transactions in Web Components</a></li>
<li><a href="#_further_information_about_transactions">1.9. Further Information about Transactions</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_transactions">1. Transactions</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="BNCIH"></a><a id="transactions"></a></p>
</div>
<div class="paragraph">
<p>This chapter describes types of transactions and how they are managed in
different applications.</p>
</div>
<div class="paragraph">
<p><a id="A1024277"></a><a id="overview-of-transactions"></a></p>
</div>
<div class="sect2">
<h3 id="_overview_of_transactions">1.1. Overview of Transactions</h3>
<div class="paragraph">
<p>A typical enterprise application accesses and stores information in one
or more databases. Because this information is critical for business
operations, it must be accurate, current, and reliable. Data integrity
would be lost if multiple programs were allowed to update the same
information simultaneously or if a system that failed while processing a
business transaction were to leave the affected data only partially
updated. By preventing both of these scenarios, software transactions
ensure data integrity. Transactions control the concurrent access of
data by multiple programs. In the event of a system failure,
transactions make sure that after recovery, the data will be in a
consistent state.</p>
</div>
<div class="paragraph">
<p><a id="GIJRG"></a><a id="transactions-in-jakarta-ee-applications"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="_transactions_in_jakarta_ee_applications">1.2. Transactions in Jakarta EE Applications</h3>
<div class="paragraph">
<p>In a Jakarta EE application, a transaction is a series of actions that must
all complete successfully, or else all the changes in each action are
backed out. Transactions end in either a commit or a rollback.</p>
</div>
<div class="paragraph">
<p>Jakarta Transactions allows applications to access
transactions in a manner that is independent of specific
implementations. Jakarta Transactions specifies standard Java interfaces between a
transaction manager and the parties involved in a distributed
transaction system: the transactional application, the Jakarta EE server,
and the manager that controls access to the shared resources affected by
the transactions.</p>
</div>
<div class="paragraph">
<p>Jakarta Transactions defines the <code>UserTransaction</code> interface that applications use to
start, commit, or roll back transactions. Application components get a
<code>UserTransaction</code> object through a JNDI lookup by using the name
<code>java:comp/UserTransaction</code> or by requesting injection of a
<code>UserTransaction</code> object. An application server uses a number of
Jakarta Transactions defined interfaces to communicate with a transaction manager; a
transaction manager uses Jakarta Transactions defined interfaces to interact with a
resource manager.</p>
</div>
<div class="paragraph">
<p>The Jakarta Transactions 1.3 specification is available at
<code><a href="https://jakarta.ee/specifications/transactions/1.3/" class="bare">https://jakarta.ee/specifications/transactions/1.3/</a></code>.</p>
</div>
<div class="paragraph">
<p><a id="BNCII"></a><a id="what-is-a-transaction"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="_what_is_a_transaction">1.3. What Is a Transaction?</h3>
<div class="paragraph">
<p>To emulate a business transaction, a program may need to perform several
steps. A financial program, for example, might transfer funds from a
checking account to a savings account by using the steps listed in the
following pseudocode:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">begin transaction
    debit checking account
    credit savings account
    update history log
commit transaction</code></pre>
</div>
</div>
<div class="paragraph">
<p>Either all or none of the three steps must complete. Otherwise, data
integrity is lost. Because the steps within a transaction are a unified
whole, a transaction is often defined as an indivisible unit of work.</p>
</div>
<div class="paragraph">
<p>A transaction can end in two ways: with a commit or with a rollback.
When a transaction commits, the data modifications made by its
statements are saved. If a statement within a transaction fails, the
transaction rolls back, undoing the effects of all statements in the
transaction. In the pseudocode, for example, if a disk drive were to
crash during the <code>credit</code> step, the transaction would roll back and undo
the data modifications made by the <code>debit</code> statement. Although the
transaction fails, data integrity would be intact because the accounts
still balance.</p>
</div>
<div class="paragraph">
<p>In the preceding pseudocode, the <code>begin</code> and <code>commit</code> statements mark
the boundaries of the transaction. When designing an enterprise bean,
you determine how the boundaries are set by specifying either
container-managed or bean-managed transactions.</p>
</div>
<div class="paragraph">
<p><a id="BNCIJ"></a><a id="container-managed-transactions"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="_container_managed_transactions">1.4. Container-Managed Transactions</h3>
<div class="paragraph">
<p>In an enterprise bean with container-managed transaction demarcation,
the enterprise bean container sets the boundaries of the transactions. You can use
container-managed transactions with any type of enterprise bean: session
or message-driven. Container-managed transactions simplify development
because the enterprise bean code does not explicitly mark the
transaction&#8217;s boundaries. The code does not include statements that
begin and end the transaction. By default, if no transaction demarcation
is specified, enterprise beans use container-managed transaction
demarcation.</p>
</div>
<div class="paragraph">
<p>Typically, the container begins a transaction immediately before an
enterprise bean method starts and commits the transaction just before
the method exits. Each method can be associated with a single
transaction. Nested or multiple transactions are not allowed within a
method.</p>
</div>
<div class="paragraph">
<p>Container-managed transactions do not require all methods to be
associated with transactions. When developing a bean, you can set the
transaction attributes to specify which of the bean&#8217;s methods are
associated with transactions.</p>
</div>
<div class="paragraph">
<p>Enterprise beans that use container-managed transaction demarcation must
not use any transaction-management methods that interfere with the
container&#8217;s transaction demarcation boundaries. Examples of such methods
are the <code>commit</code>, <code>setAutoCommit</code>, and <code>rollback</code> methods of
<code>java.sql.Connection</code> or the <code>commit</code> and <code>rollback</code> methods of
<code>javax.jms.Session</code>. If you require control over the transaction
demarcation, you must use application-managed transaction demarcation.</p>
</div>
<div class="paragraph">
<p>Enterprise beans that use container-managed transaction demarcation also
must not use the <code>javax.transaction.UserTransaction</code> interface.</p>
</div>
<div class="paragraph">
<p><a id="BNCIK"></a><a id="transaction-attributes"></a></p>
</div>
<div class="sect3">
<h4 id="_transaction_attributes">1.4.1. Transaction Attributes</h4>
<div class="paragraph">
<p>A transaction attribute controls the scope of a transaction.
<a href="#BNCIL">Figure 54-1</a> illustrates why controlling the scope is
important. In the diagram, <code>method-A</code> begins a transaction and then
invokes <code>method-B</code> of <code>Bean-2</code>. When <code>method-B</code> executes, does it run
within the scope of the transaction started by <code>method-A</code>, or does it
execute with a new transaction? The answer depends on the transaction
attribute of <code>method-B</code>.</p>
</div>
<div id="BNCIL" class="paragraph">
<div class="title"><strong>Figure 54-1 Transaction Scope</strong></div>
<p><span class="image"><img src="../images/jakartaeett_dt_050.png" alt="A diagram showing a transaction between two beans."></span></p>
</div>
<div class="paragraph">
<p>A transaction attribute can have one of the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Required</code></p>
</li>
<li>
<p><code>RequiresNew</code></p>
</li>
<li>
<p><code>Mandatory</code></p>
</li>
<li>
<p><code>NotSupported</code></p>
</li>
<li>
<p><code>Supports</code></p>
</li>
<li>
<p><code>Never</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BNCIM"></a><a id="required-attribute"></a></p>
</div>
<div class="sect4">
<h5 id="_required_attribute">Required Attribute</h5>
<div class="paragraph">
<p>If the client is running within a transaction and invokes the enterprise
bean&#8217;s method, the method executes within the client&#8217;s transaction. If
the client is not associated with a transaction, the container starts a
new transaction before running the method.</p>
</div>
<div class="paragraph">
<p>The <code>Required</code> attribute is the implicit transaction attribute for all
enterprise bean methods running with container-managed transaction
demarcation. You typically do not set the <code>Required</code> attribute unless
you need to override another transaction attribute. Because transaction
attributes are declarative, you can easily change them later.</p>
</div>
<div class="paragraph">
<p><a id="BNCIN"></a><a id="requiresnew-attribute"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_requiresnew_attribute">RequiresNew Attribute</h5>
<div class="paragraph">
<p>If the client is running within a transaction and invokes the enterprise
bean&#8217;s method, the container takes the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Suspends the client&#8217;s transaction</p>
</li>
<li>
<p>Starts a new transaction</p>
</li>
<li>
<p>Delegates the call to the method</p>
</li>
<li>
<p>Resumes the client&#8217;s transaction after the method completes</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If the client is not associated with a transaction, the container starts
a new transaction before running the method.</p>
</div>
<div class="paragraph">
<p>You should use the <code>RequiresNew</code> attribute when you want to ensure that
the method always runs within a new transaction.</p>
</div>
<div class="paragraph">
<p><a id="BNCIO"></a><a id="mandatory-attribute"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_mandatory_attribute">Mandatory Attribute</h5>
<div class="paragraph">
<p>If the client is running within a transaction and invokes the enterprise
bean&#8217;s method, the method executes within the client&#8217;s transaction. If
the client is not associated with a transaction, the container throws a
<code>TransactionRequiredException</code>.</p>
</div>
<div class="paragraph">
<p>Use the <code>Mandatory</code> attribute if the enterprise bean&#8217;s method must use
the transaction of the client.</p>
</div>
<div class="paragraph">
<p><a id="BNCIP"></a><a id="notsupported-attribute"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_notsupported_attribute">NotSupported Attribute</h5>
<div class="paragraph">
<p>If the client is running within a transaction and invokes the enterprise
bean&#8217;s method, the container suspends the client&#8217;s transaction before
invoking the method. After the method has completed, the container
resumes the client&#8217;s transaction.</p>
</div>
<div class="paragraph">
<p>If the client is not associated with a transaction, the container does
not start a new transaction before running the method.</p>
</div>
<div class="paragraph">
<p>Use the <code>NotSupported</code> attribute for methods that don&#8217;t need
transactions. Because transactions involve overhead, this attribute may
improve performance.</p>
</div>
<div class="paragraph">
<p><a id="BNCIQ"></a><a id="supports-attribute"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_supports_attribute">Supports Attribute</h5>
<div class="paragraph">
<p>If the client is running within a transaction and invokes the enterprise
bean&#8217;s method, the method executes within the client&#8217;s transaction. If
the client is not associated with a transaction, the container does not
start a new transaction before running the method.</p>
</div>
<div class="paragraph">
<p>Because the transactional behavior of the method may vary, you should
use the <code>Supports</code> attribute with caution.</p>
</div>
<div class="paragraph">
<p><a id="BNCIR"></a><a id="never-attribute"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_never_attribute">Never Attribute</h5>
<div class="paragraph">
<p>If the client is running within a transaction and invokes the enterprise
bean&#8217;s method, the container throws a <code>RemoteException</code>. If the client
is not associated with a transaction, the container does not start a new
transaction before running the method.</p>
</div>
<div class="paragraph">
<p><a id="BNCIS"></a><a id="summary-of-transaction-attributes"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_summary_of_transaction_attributes">Summary of Transaction Attributes</h5>
<div class="paragraph">
<p><a href="#BNCIT">Table 54-1</a> summarizes the effects of the transaction
attributes. Both the <code>T1</code> and the <code>T2</code> transactions are controlled by
the container. A <code>T1</code> transaction is associated with the client that
calls a method in the enterprise bean. In most cases, the client is
another enterprise bean. A <code>T2</code> transaction is started by the container
just before the method executes.</p>
</div>
<div class="paragraph">
<p>In the last column of <a href="#BNCIT">Table 54-1</a>, the word "None" means
that the business method does not execute within a transaction
controlled by the container. However, the database calls in such a
business method might be controlled by the transaction manager of the
database management system.</p>
</div>
<div class="paragraph">
<p><a id="sthref235"></a><a id="BNCIT"></a></p>
</div>
<div class="paragraph">
<p><strong>Table 54-1 Transaction Attributes and Scope</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 60%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Transaction Attribute</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Client&#8217;s Transaction</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Business Method&#8217;s</strong>
Transaction</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Required</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Required</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RequiresNew</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RequiresNew</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Mandatory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Mandatory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NotSupported</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NotSupported</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Supports</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Supports</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Never</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Never</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="BNCIU"></a><a id="setting-transaction-attributes"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_setting_transaction_attributes">Setting Transaction Attributes</h5>
<div class="paragraph">
<p>Transaction attributes are specified by decorating the enterprise bean
class or method with a <code>javax.ejb.TransactionAttribute</code> annotation and
setting it to one of the <code>javax.ejb.TransactionAttributeType</code> constants.</p>
</div>
<div class="paragraph">
<p>If you decorate the enterprise bean class with <code>@TransactionAttribute</code>,
the specified <code>TransactionAttributeType</code> is applied to all the business
methods in the class. Decorating a business method with
<code>@TransactionAttribute</code> applies the <code>TransactionAttributeType</code> only to
that method. If a <code>@TransactionAttribute</code> annotation decorates both the
class and the method, the method <code>TransactionAttributeType</code> overrides
the class <code>TransactionAttributeType</code>.</p>
</div>
<div class="paragraph">
<p>The <code>TransactionAttributeType</code> constants shown in <a href="#GKCFD">Table
54-2</a> encapsulate the transaction attributes described earlier in this
section.</p>
</div>
<div class="paragraph">
<p><a id="sthref236"></a><a id="GKCFD"></a></p>
</div>
<div class="paragraph">
<p><strong>Table 54-2 TransactionAttributeType Constants</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 34%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Transaction Attribute</th>
<th class="tableblock halign-left valign-top">TransactionAttributeType Constant</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Required</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionAttributeType.REQUIRED</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RequiresNew</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionAttributeType.REQUIRES_NEW</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Mandatory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionAttributeType.MANDATORY</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NotSupported</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionAttributeType.NOT_SUPPORTED</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Supports</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionAttributeType.SUPPORTS</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Never</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TransactionAttributeType.NEVER</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following code snippet demonstrates how to use the
<code>@TransactionAttribute</code> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TransactionAttribute</span>(NOT_SUPPORTED)
<span class="annotation">@Stateful</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">TransactionBean</span> <span class="directive">implements</span> Transaction {
...
    <span class="annotation">@TransactionAttribute</span>(REQUIRES_NEW)
    <span class="directive">public</span> <span class="type">void</span> firstMethod() {...}

    <span class="annotation">@TransactionAttribute</span>(REQUIRED)
    <span class="directive">public</span> <span class="type">void</span> secondMethod() {...}

    <span class="directive">public</span> <span class="type">void</span> thirdMethod() {...}

    <span class="directive">public</span> <span class="type">void</span> fourthMethod() {...}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, the <code>TransactionBean</code> class&#8217;s transaction attribute has
been set to <code>NotSupported</code>, <code>firstMethod</code> has been set to <code>RequiresNew</code>,
and <code>secondMethod</code> has been set to <code>Required</code>. Because a
<code>@TransactionAttribute</code> set on a method overrides the class
<code>@TransactionAttribute</code>, calls to <code>firstMethod</code> will create a new
transaction, and calls to <code>secondMethod</code> will either run in the current
transaction or start a new transaction. Calls to <code>thirdMethod</code> or
<code>fourthMethod</code> do not take place within a transaction.</p>
</div>
<div class="paragraph">
<p><a id="BNCIV"></a><a id="rolling-back-a-container-managed-transaction"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_rolling_back_a_container_managed_transaction">1.4.2. Rolling Back a Container-Managed Transaction</h4>
<div class="paragraph">
<p>There are two ways to roll back a container-managed transaction. First,
if a system exception is thrown, the container will automatically roll
back the transaction. Second, by invoking the <code>setRollbackOnly</code> method
of the <code>EJBContext</code> interface, the bean method instructs the container
to roll back the transaction. If the bean throws an application
exception, the rollback is not automatic but can be initiated by a call
to <code>setRollbackOnly</code>.</p>
</div>
<div class="paragraph">
<p><a id="BNCIW"></a><a id="synchronizing-a-session-beans-instance-variables"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_synchronizing_a_session_beans_instance_variables">1.4.3. Synchronizing a Session Bean&#8217;s Instance Variables</h4>
<div class="paragraph">
<p>The <code>SessionSynchronization</code> interface, which is optional, allows
stateful session bean instances to receive transaction synchronization
notifications. For example, you could synchronize the instance variables
of an enterprise bean with their corresponding values in the database.
The container invokes the <code>SessionSynchronization</code> methods
(<code>afterBegin</code>, <code>beforeCompletion</code>, and <code>afterCompletion</code>) at each of the
main stages of a transaction.</p>
</div>
<div class="paragraph">
<p>The <code>afterBegin</code> method informs the instance that a new transaction has
begun. The container invokes <code>afterBegin</code> immediately before it invokes
the business method.</p>
</div>
<div class="paragraph">
<p>The container invokes the <code>beforeCompletion</code> method after the business
method has finished but just before the transaction commits. The
<code>beforeCompletion</code> method is the last opportunity for the session bean
to roll back the transaction (by calling <code>setRollbackOnly</code>).</p>
</div>
<div class="paragraph">
<p>The <code>afterCompletion</code> method indicates that the transaction has
completed. This method has a single <code>boolean</code> parameter whose value is
<code>true</code> if the transaction was committed and <code>false</code> if it was rolled
back.</p>
</div>
<div class="paragraph">
<p><a id="BNCIX"></a><a id="methods-not-allowed-in-container-managed-transactions"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_methods_not_allowed_in_container_managed_transactions">1.4.4. Methods Not Allowed in Container-Managed Transactions</h4>
<div class="paragraph">
<p>You should not invoke any method that might interfere with the
transaction boundaries set by the container. The following methods are
prohibited:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>commit</code>, <code>setAutoCommit</code>, and <code>rollback</code> methods of
<code>java.sql.Connection</code></p>
</li>
<li>
<p>The <code>getUserTransaction</code> method of <code>javax.ejb.EJBContext</code></p>
</li>
<li>
<p>Any method of <code>javax.transaction.UserTransaction</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can, however, use these methods to set boundaries in
application-managed transactions.</p>
</div>
<div class="paragraph">
<p><a id="BNCIY"></a><a id="bean-managed-transactions"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_bean_managed_transactions">1.5. Bean-Managed Transactions</h3>
<div class="paragraph">
<p>In bean-managed transaction demarcation, the code in the session or
message-driven bean explicitly marks the boundaries of the transaction.
Although beans with container-managed transactions require less coding,
they have one limitation: When a method is executing, it can be
associated with either a single transaction or no transaction at all. If
this limitation will make coding your bean difficult, you should
consider using bean-managed transactions.</p>
</div>
<div class="paragraph">
<p>The following pseudocode illustrates the kind of fine-grained control
you can obtain with application-managed transactions. By checking
various conditions, the pseudocode decides whether to start or stop
certain transactions within the business method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">begin transaction
...
    update table-a
...
    if (condition-x)
   commit transaction
    <span class="keyword">else</span> <span class="keyword">if</span> (condition-y)
   update table-b
   commit transaction
    <span class="keyword">else</span>
   rollback transaction
   begin transaction
   update table-c
   commit transaction</code></pre>
</div>
</div>
<div class="paragraph">
<p>When coding an application-managed transaction for session or
message-driven beans, you must decide whether to use Java Database
Connectivity or Jakarta transactions. The sections that follow discuss both
types of transactions.</p>
</div>
<div class="paragraph">
<p><a id="BNCIZ"></a><a id="jta-transactions"></a></p>
</div>
<div class="sect3">
<h4 id="_jakarta_transactions">1.5.1. Jakarta Transactions</h4>
<div class="paragraph">
<p>Jakarta Transactions allows you to demarcate transactions
in a manner that is independent of the transaction manager
implementation. GlassFish Server implements the transaction manager with
the Java Transaction Service (JTS). However, your code doesn&#8217;t call the
JTS methods directly but instead invokes the Jakarta Transactions methods, which then
call the lower-level JTS routines.</p>
</div>
<div class="paragraph">
<p>A Jakarta transaction is controlled by the Jakarta EE transaction manager. You
may want to use a Jakarta transaction because it can span updates to
multiple databases from different vendors. A particular DBMS&#8217;s
transaction manager may not work with heterogeneous databases. However,
the Jakarta EE transaction manager does have one limitation: It does not
support nested transactions. In other words, it cannot start a
transaction for an instance until the preceding transaction has ended.</p>
</div>
<div class="paragraph">
<p>To demarcate a Jakarta transaction, you invoke the <code>begin</code>, <code>commit</code>, and
<code>rollback</code> methods of the <code>javax.transaction.UserTransaction</code> interface.</p>
</div>
<div class="paragraph">
<p><a id="BNCJA"></a><a id="returning-without-committing"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_returning_without_committing">1.5.2. Returning without Committing</h4>
<div class="paragraph">
<p>In a stateless session bean with bean-managed transactions, a business
method must commit or roll back a transaction before returning. However,
a stateful session bean does not have this restriction.</p>
</div>
<div class="paragraph">
<p>In a stateful session bean with a Jakarta transaction, the association
between the bean instance and the transaction is retained across
multiple client calls. Even if each business method called by the client
opens and closes the database connection, the association is retained
until the instance completes the transaction.</p>
</div>
<div class="paragraph">
<p>In a stateful session bean with a JDBC transaction, the JDBC connection
retains the association between the bean instance and the transaction
across multiple calls. If the connection is closed, the association is
not retained.</p>
</div>
<div class="paragraph">
<p><a id="BNCJB"></a><a id="methods-not-allowed-in-bean-managed-transactions"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_methods_not_allowed_in_bean_managed_transactions">1.5.3. Methods Not Allowed in Bean-Managed Transactions</h4>
<div class="paragraph">
<p>Do not invoke the <code>getRollbackOnly</code> and <code>setRollbackOnly</code> methods of the
<code>EJBContext</code> interface in bean-managed transactions. These methods
should be used only in container-managed transactions. For bean-managed
transactions, invoke the <code>getStatus</code> and <code>rollback</code> methods of the
<code>UserTransaction</code> interface.</p>
</div>
<div class="paragraph">
<p><a id="BNCJC"></a><a id="transaction-timeouts"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_transaction_timeouts">1.6. Transaction Timeouts</h3>
<div class="paragraph">
<p>For container-managed transactions, you can use the Administration
Console to configure the transaction timeout interval. See
<a href="#BNADJ">Starting the Administration Console</a>.</p>
</div>
<div class="paragraph">
<p>For enterprise beans with bean-managed Jakarta transactions, you invoke the
<code>setTransactionTimeout</code> method of the <code>UserTransaction</code> interface.</p>
</div>
<div class="paragraph">
<p><a id="sthref237"></a><a id="to-set-a-transaction-timeout"></a></p>
</div>
<div class="sect3">
<h4 id="_to_set_a_transaction_timeout">1.6.1. To Set a Transaction Timeout</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the Administration Console, expand the Configurations node, then
expand the server-config node and select Transaction Service.</p>
</li>
<li>
<p>On the Transaction Service page, set the value of the Transaction
Timeout field to the value of your choice (for example, 5).</p>
<div class="paragraph">
<p>With this setting, if the transaction has not completed within 5
seconds, the enterprise bean container rolls it back.</p>
</div>
<div class="paragraph">
<p>The default value is 0, meaning that the transaction will not time out.</p>
</div>
</li>
<li>
<p>Click Save.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="BNCJD"></a><a id="updating-multiple-databases"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_updating_multiple_databases">1.7. Updating Multiple Databases</h3>
<div class="paragraph">
<p>The Jakarta EE transaction manager controls all enterprise bean
transactions except for bean-managed JDBC transactions. The Jakarta EE
transaction manager allows an enterprise bean to update multiple
databases within a transaction. <a href="#BNCJE">Figure 54-2</a> and
<a href="#BNCJF">Figure 54-3</a> show two scenarios for updating multiple
databases in a single transaction.</p>
</div>
<div class="paragraph">
<p>In <a href="#BNCJE">Figure 54-2</a>, the client invokes a business method in
<code>Bean-A</code>. The business method begins a transaction, updates Database X,
updates Database Y, and invokes a business method in <code>Bean-B</code>. The
second business method updates Database Z and returns control to the
business method in <code>Bean-A</code>, which commits the transaction. All three
database updates occur in the same transaction.</p>
</div>
<div class="paragraph">
<p>In <a href="#BNCJF">Figure 54-3</a>, the client calls a business method in
<code>Bean-A</code>, which begins a transaction and updates Database X. Then
<code>Bean-A</code> invokes a method in <code>Bean-B</code>, which resides in a remote Jakarta EE
server. The method in <code>Bean-B</code> updates Database Y. The transaction
managers of the Jakarta EE servers ensure that both databases are updated
in the same transaction.</p>
</div>
<div id="BNCJE" class="paragraph">
<div class="title"><strong>Figure 54-2 Updating Multiple Databases</strong></div>
<p><span class="image"><img src="../images/jakartaeett_dt_051.png" alt="A diagram showing Bean-A updating databases X and Y, and Bean-B updating database Z."></span></p>
</div>
<div id="BNCJF" class="paragraph">
<div class="title"><strong>Figure 54-3 Updating Multiple Databases Across Jakarta EE Servers</strong></div>
<p><span class="image"><img src="../images/jakartaeett_dt_052.png" alt="A diagram showing Bean-A on one Jakarta EE server updating database X, and Bean-B on another Jakarta EE server updating database Y."></span></p>
</div>
<div class="paragraph">
<p><a id="BNCJG"></a><a id="transactions-in-web-components"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="_transactions_in_web_components">1.8. Transactions in Web Components</h3>
<div class="paragraph">
<p>You can demarcate a transaction in a web component by using either the
<code>java.sql.Connection</code> or the <code>javax.transaction.UserTransaction</code>
interface. These are the same interfaces that a session bean with
bean-managed transactions can use. Transactions demarcated with the
<code>UserTransaction</code> interface are discussed in
<a href="#BNCIZ">Jakarta Transactions</a>.</p>
</div>
<div class="paragraph">
<p><a id="GKCMI"></a><a id="further-information-about-transactions"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="_further_information_about_transactions">1.9. Further Information about Transactions</h3>
<div class="paragraph">
<p>For more information about transactions, see the Jakarta Transactions
1.3 specification at <code><a href="https://jakarta.ee/specifications/transactions/1.3/" class="bare">https://jakarta.ee/specifications/transactions/1.3/</a></code>.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-01-08 17:03:44 UTC
</div>
</div>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid currentColor;opacity:.35;padding:0 .5em 0 0}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</body>
</html>